<!DOCTYPE html><html lang="ko"><head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">






  

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ejpark78.github.io","root":"/","scheme":"Gemini","version":"8.0.0-rc.5","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false};
  </script>

  <meta name="description" content="적자생존!">
<meta property="og:type" content="website">
<meta property="og:title" content="오늘은 뭘 배우셨나요?">
<meta property="og:url" content="https://ejpark78.github.io/page/2/index.html">
<meta property="og:site_name" content="오늘은 뭘 배우셨나요?">
<meta property="og:description" content="적자생존!">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="Park Eunjin">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://ejpark78.github.io/page/2/">


<script data-pjax="" class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'ko'
  };
</script>

  <title>오늘은 뭘 배우셨나요?</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css');loadCss('//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"></noscript></head>

<body itemscope="" itemtype="http://schema.org/WebPage" class="use-motion">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="headband"></div>

  <main class="main">
    <header class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">오늘은 뭘 배우셨나요?</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">나도 블로그가 있다!!!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>홈</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>태그<span class="badge">60</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>카테고리<span class="badge">63</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>아카이브<span class="badge">53</span></a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          흝어보기
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Park Eunjin</p>
  <div class="site-description" itemprop="description">적자생존!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">53</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">63</span>
        <span class="site-state-item-name">카테고리</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">태그</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlfa002pk78o43uodi1e.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlfa002pk78o43uodi1e.html" class="post-title-link" itemprop="url">tar, pv, split 으로 백업 압축, mv 진행 상황 표시</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2020-08-20 10:20:04" itemprop="dateCreated datePublished" datetime="2020-08-20T10:20:04+09:00">2020-08-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-08-21 15:14:09" itemprop="dateModified" datetime="2020-08-21T15:14:09+09:00">2020-08-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/" itemprop="url" rel="index"><span itemprop="name">리눅스</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/%EB%B0%B1%EC%97%85-%EC%95%95%EC%B6%95/" itemprop="url" rel="index"><span itemprop="name">백업 압축</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="pv-설치"><a class="markdownIt-Anchor" href="#pv-설치"></a> pv 설치</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install pv</span><br></pre></td></tr></tbody></table></figure>
<h2 id="압축-생성-및-파일-분리"><a class="markdownIt-Anchor" href="#압축-생성-및-파일-분리"></a> 압축 생성 및 파일 분리</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SIZE=20G</span><br><span class="line">DIR_NAME=backup</span><br><span class="line"></span><br><span class="line">tar -cf - <span class="variable">${DIR_NAME}</span>/* | (pv -p --timer --rate --bytes | split -d -a 3 -b <span class="variable">${SIZE}</span> - <span class="variable">${DIR_NAME}</span>.)</span><br><span class="line"></span><br><span class="line">53.6GiB 0:10:35 [ 138MiB/s] [            &lt;=&gt;                               ]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="sync-상태-파악-방법"><a class="markdownIt-Anchor" href="#sync-상태-파악-방법"></a> sync 상태 파악 방법</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/48235/can-i-watch-the-progress-of-a-sync-operation">Can I watch the progress of a sync operation?</a></li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -d grep -e Dirty: -e Writeback: /proc/meminfo</span><br></pre></td></tr></tbody></table></figure>
<h2 id="progress-로-파일-이동-상태-확인"><a class="markdownIt-Anchor" href="#progress-로-파일-이동-상태-확인"></a> progress 로 파일 이동 상태 확인</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Xfennec/progress">progress</a></li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">❯ sudo apt install progress</span><br><span class="line"></span><br><span class="line">❯ watch -n 5 -d progress -q</span><br><span class="line"></span><br><span class="line">[1705505] mv /home/ejpark/backup-part.000</span><br><span class="line">        56.8% (11.4 GiB / 20 GiB)</span><br><span class="line"></span><br><span class="line">[1465881] adb /tmp/adb.1000.log</span><br><span class="line">        100.0% (5.2 KiB / 5.2 KiB)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://www.tecmint.com/split-large-tar-into-multiple-files-of-certain-size/">How to Split Large tar Archive into Multiple Files of Certain Size</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.tecmint.com/monitor-copy-backup-tar-progress-in-linux-using-pv-command/">How to Monitor Progress of (Copy/Backup/Compress) Data using pv Command</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/2577/how-can-i-move-files-and-view-the-progress-e-g-with-a-progress-bar">How can I move files and view the progress (e.g. with a progress bar)?</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://m.blog.naver.com/PostView.nhn?blogId=jevida&amp;logNo=221024972067&amp;proxyReferer=https:%2F%2Fwww.google.com%2F">Linux에서 DISK I/O 사용량 확인</a></p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="study">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlfk0038k78o8z667krx.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlfk0038k78o8z667krx.html" class="post-title-link" itemprop="url">ceph 마스터 하기</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-20 10:15:29 / Updated at: 10:16:21" itemprop="dateCreated datePublished" datetime="2020-08-20T10:15:29+09:00">2020-08-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EA%B3%B5%EB%B6%80/" itemprop="url" rel="index"><span itemprop="name">공부</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EA%B3%B5%EB%B6%80/ceph-%EB%A7%88%EC%8A%A4%ED%84%B0-%ED%95%98%EA%B8%B0/" itemprop="url" rel="index"><span itemprop="name">ceph 마스터 하기</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlf6002gk78oe0zg61s6.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlf6002gk78oe0zg61s6.html" class="post-title-link" itemprop="url">우분투에서 xfreerdp 를 이용한 원격 데스크탑 연결</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-19 15:20:15 / Updated at: 15:56:16" itemprop="dateCreated datePublished" datetime="2020-08-19T15:20:15+09:00">2020-08-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/" itemprop="url" rel="index"><span itemprop="name">리눅스</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/xfreerdp/" itemprop="url" rel="index"><span itemprop="name">xfreerdp</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/xfreerdp/%EC%9B%90%EA%B2%A9-%EB%8D%B0%EC%8A%A4%ED%81%AC%ED%83%91/" itemprop="url" rel="index"><span itemprop="name">원격 데스크탑</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="xfreerdp-설치"><a class="markdownIt-Anchor" href="#xfreerdp-설치"></a> xfreerdp 설치</h2>
<h2 id="접속-방법"><a class="markdownIt-Anchor" href="#접속-방법"></a> 접속 방법</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfreerdp ejpark-win.rdp /sec:nla</span><br></pre></td></tr></tbody></table></figure>
<h2 id="디스크-연결-방법"><a class="markdownIt-Anchor" href="#디스크-연결-방법"></a> 디스크 연결 방법</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfreerdp ejpark-win.rdp /sec:nla /drive:home,/home/ejpark</span><br></pre></td></tr></tbody></table></figure>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://skylit.tistory.com/320">리눅스에서 FreeRDP(xfreerdp)로 윈도우10 (2018년 1월 이후) 로그인이 안될 때</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlf9002ok78oc0vr9b4z.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlf9002ok78oc0vr9b4z.html" class="post-title-link" itemprop="url">몽고디비 덤프 v4.4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-19 15:20:15 / Updated at: 15:32:10" itemprop="dateCreated datePublished" datetime="2020-08-19T15:20:15+09:00">2020-08-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/" itemprop="url" rel="index"><span itemprop="name">리눅스</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4/%EB%AA%BD%EA%B3%A0-%EB%94%94%EB%B9%84/" itemprop="url" rel="index"><span itemprop="name">몽고 디비</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="몽고-디비-툴-설치"><a class="markdownIt-Anchor" href="#몽고-디비-툴-설치"></a> 몽고 디비 툴 설치</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wget -qO - https://www.mongodb.org/static/pgp/server-4.4.asc | sudo apt-key add -</span><br><span class="line"></span><br><span class="line">sudo apt-get install gnupg</span><br><span class="line"></span><br><span class="line"><span class="comment"># ubuntu 20.04</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/4.4 multiverse"</span> | sudo tee /etc/apt/sources.list.d/mongodb-org-4.4.list</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install -y mongodb-org</span><br></pre></td></tr></tbody></table></figure>
<h2 id="버전-홀딩"><a class="markdownIt-Anchor" href="#버전-홀딩"></a> 버전 홀딩</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"mongodb-org hold"</span> | sudo dpkg --<span class="built_in">set</span>-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"mongodb-org-server hold"</span> | sudo dpkg --<span class="built_in">set</span>-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"mongodb-org-shell hold"</span> | sudo dpkg --<span class="built_in">set</span>-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"mongodb-org-mongos hold"</span> | sudo dpkg --<span class="built_in">set</span>-selections</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"mongodb-org-tools hold"</span> | sudo dpkg --<span class="built_in">set</span>-selections</span><br></pre></td></tr></tbody></table></figure>
<h2 id="덤프"><a class="markdownIt-Anchor" href="#덤프"></a> 덤프</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FROM_HOST=<span class="built_in">source</span>-host:27107</span><br><span class="line">TO_HOST=target-host:8080</span><br><span class="line">DUMP_FILE=dump-file</span><br><span class="line"></span><br><span class="line">mongodump --host=<span class="string">"<span class="variable">${FROM_HOST}</span>"</span> --archive=<span class="variable">${DUMP_FILE}</span></span><br><span class="line"></span><br><span class="line">mongorestore --host <span class="variable">${TO_HOST}</span> --archive=<span class="variable">${DUMP_FILE}</span> </span><br></pre></td></tr></tbody></table></figure>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/administration/install-on-linux/">Install MongoDB Community Edition on Linux</a></li>
<li><a target="_blank" rel="noopener" href="https://hatpub.tistory.com/102">몽고디비 백업 및 복구 (mongoDB db, collection 선택 하여 dump / restore 하기)</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="study">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlfm003ak78oaqwe063g.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlfm003ak78oaqwe063g.html" class="post-title-link" itemprop="url">자연어 처리와 컴퓨터 언어학</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2020-08-18 21:36:52" itemprop="dateCreated datePublished" datetime="2020-08-18T21:36:52+09:00">2020-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-08-20 08:15:20" itemprop="dateModified" datetime="2020-08-20T08:15:20+09:00">2020-08-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EA%B3%B5%EB%B6%80/" itemprop="url" rel="index"><span itemprop="name">공부</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EA%B3%B5%EB%B6%80/%EC%9E%90%EC%97%B0%EC%96%B4-%EC%B2%98%EB%A6%AC%EC%99%80-%EC%BB%B4%ED%93%A8%ED%84%B0-%EC%96%B8%EC%96%B4%ED%95%99/" itemprop="url" rel="index"><span itemprop="name">자연어 처리와 컴퓨터 언어학</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gensim <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">import</span> spacy</span><br><span class="line"><span class="keyword">from</span> gensim <span class="keyword">import</span> corpora</span><br><span class="line"> </span><br><span class="line">documents = [</span><br><span class="line">    <span class="string">u"Football club Arsenal defeat local rivals this weekend."</span>,</span><br><span class="line">    <span class="string">u"Weekend football frenzy takes over London."</span>,</span><br><span class="line">    <span class="string">u"Bank open for take over bids after losing millions."</span>,</span><br><span class="line">    <span class="string">u"London football clubs bid to move to Wembley stadium."</span>,</span><br><span class="line">    <span class="string">u"Arsenal bid 50 million pounds for striker Kane."</span>,</span><br><span class="line">    <span class="string">u"Financial troubles result in loss of millions for bank."</span>,</span><br><span class="line">    <span class="string">u"Western bank files for bankruptcy after financial losses."</span>,</span><br><span class="line">    <span class="string">u"London football club is taken over by oil millionaire from Russia."</span>,</span><br><span class="line">    <span class="string">u"Banking on finances not working for Russia."</span>,</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line">nlp = spacy.load(<span class="string">"en"</span>)</span><br><span class="line">texts = []</span><br><span class="line"><span class="keyword">for</span> document <span class="keyword">in</span> documents:</span><br><span class="line">    text = []</span><br><span class="line">    doc = nlp(document)</span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> doc:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> w.is_stop <span class="keyword">and</span> <span class="keyword">not</span> w.is_punct <span class="keyword">and</span> <span class="keyword">not</span> w.like_num:</span><br><span class="line">            text.append(w.lemma_)</span><br><span class="line">    texts.append(text)</span><br><span class="line"> </span><br><span class="line">dictionary = corpora.Dictionary(texts)</span><br><span class="line">print(dictionary.token2id)</span><br><span class="line"> </span><br><span class="line">corpus = [dictionary.doc2bow(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># TF-IDF representation</span></span><br><span class="line">tfidf = models.TfidfModel(corpus)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> document <span class="keyword">in</span> tfidf[corpus]:</span><br><span class="line">    <span class="keyword">print</span> document</span><br><span class="line"> </span><br><span class="line"><span class="comment"># n-grams 모델을 생성한다.</span></span><br><span class="line">bigram = gensim.models.Phrases(texts)</span><br><span class="line">texts = [bigram[line] <span class="keyword">for</span> line <span class="keyword">in</span> texts]</span><br><span class="line"> </span><br><span class="line">dictionary = Dictionary(texts)</span><br><span class="line">corpus = [dictionary.doc2bow(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 20개 문서 미만 또는 50% 이상의 문서에서 존재하는 단어들을 제거한다.</span></span><br><span class="line">dictionary.filter_extremes(no_below=<span class="number">20</span>, no_above=<span class="number">0.5</span>)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p>POS Tagging (State of the art): 다중 데이터셋으로 신경망을 이용해 도달한 결과</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aclweb.org/aclwiki/POS_Tagging_(State_of_the_art)">https://aclweb.org/aclwiki/POS_Tagging_(State_of_the_art)</a></li>
</ul>
</li>
<li>
<p>AI 의 살제: 파이썬으로 품사의 식별</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://medium.com/@brianray_7981/ai-in-practice-identifying-parts-of-speech-in-python-8a690c7a1a08">https://medium.com/@brianray_7981/ai-in-practice-identifying-parts-of-speech-in-python-8a690c7a1a08</a></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"> </span><br><span class="line">words = re.findall(<span class="string">r'\w+'</span>, open(<span class="string">'hamlet.txt'</span>).read().lower())</span><br><span class="line">Counter(words).most_common(<span class="number">10</span>)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://nlpforhackers.io/named-entity-extraction/">A complete guide to build your own Named Entity Recognizer with Python</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.depends-on-the-definition.com/introduction-named-entity-recognition-python/">Introduction To Named Entity Recognition In Python</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://www.albertauyeung.com/post/python-sequence-labelling-with-crf/">Performing Sequence Labelling using CRF in Python</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://explosion.ai/demos/displacy">dispaCy</a></p>
</li>
</ul>
<p>지역 구문 분석과 의존 구문 분석은 첫 번째 문장을 분할할 때부터 서로 다르다. 지역 구문 분석은 문장을 주제와 목적으로 분리하는데, 이는 보통 명사 구와 동사 구가 된다. 반면 의존 구문 분석은 동사를 문장의 머리 부분으로 간주하고 모든 의존성이 이를 중심으로 주변에 위치한다.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># we need to first set up the text and corpus as it was done in section 3.3</span></span><br><span class="line"><span class="comment"># this refers to the code set-up in the Chapter 3</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> LdaModel</span><br><span class="line"> </span><br><span class="line">ldamodel = LdaModel(corpus=corpus, num_topics=<span class="number">10</span>, id2word=dictionary)</span><br><span class="line">ldamodel.show_topics()</span><br><span class="line"> </span><br><span class="line">lsimodel = LsiModel(corpus=corpus, num_topics=<span class="number">10</span>, id2word=dictionary)</span><br><span class="line">lsimodel.show_topics(num_topics=<span class="number">5</span>)  <span class="comment"># Showing only the top 5 topics</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 젠심을 이용할 때 자주 자주 사용되는 토픽 모델링 알고리즘은 HDP다.</span></span><br><span class="line"><span class="comment"># 비모수적 방법(non-parametric)이기 때문에 주제수를 지정할 필요가 없다.</span></span><br><span class="line">hdpmodel = HdpModel(corpus=corpus, id2word=dictionary)</span><br><span class="line">hdpmodel.show_topics()</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> NMF, LatentDirichletAllocation</span><br><span class="line">nmf = NMF(n_components=no_topic).fit(tfidf_corpus)</span><br><span class="line">lda = LatentDirichletAllocation(n_topics=no_topics).fit(tf_corpus)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_topics</span>(<span class="params">model, feature_names, no_top_words</span>):</span></span><br><span class="line">    <span class="keyword">for</span> topic_idx, topic <span class="keyword">in</span> enumerate(model.components_):</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Topic %d:"</span> % (topic_idx)</span><br><span class="line">        <span class="keyword">print</span> <span class="string">" "</span>.join([feature_names[i]</span><br><span class="line">                        <span class="keyword">for</span> i <span class="keyword">in</span> topic.argsort()[:-no_top_words - <span class="number">1</span>:<span class="number">-1</span>]])</span><br><span class="line"> </span><br><span class="line">display_topics(nmf, tfidf_feature_names, no_top_words)</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pre-processing tips</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># adding stop words in spacy</span></span><br><span class="line"><span class="comment"># remember to load your appropriate language model</span></span><br><span class="line"> </span><br><span class="line">my_stop_words = [<span class="string">u'say'</span>, <span class="string">u'\'s'</span>, <span class="string">u'Mr'</span>, <span class="string">u'be'</span>, <span class="string">u'said'</span>, <span class="string">u'says'</span>, <span class="string">u'saying'</span>]</span><br><span class="line"><span class="keyword">for</span> stopword <span class="keyword">in</span> my_stop_words:</span><br><span class="line">    lexeme = nlp.vocab[stopword]</span><br><span class="line">    lexeme.is_stop = <span class="literal">True</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># adding logging</span></span><br><span class="line"><span class="comment"># 젠심의 학습 진행 상태 표시 설정</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig(filename=<span class="string">'logfile.log'</span>, format=<span class="string">'%(asctime)s : %(levelname)s : %(message)s'</span>, level=logging.INFO)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># document - topic proportions</span></span><br><span class="line">ldamodel[corpus[<span class="number">0</span>]]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># printing first topic</span></span><br><span class="line"> </span><br><span class="line">ldamodel.show_topics()[<span class="number">1</span>]</span><br><span class="line"> </span><br><span class="line">texts = [[<span class="string">'bank'</span>,<span class="string">'river'</span>,<span class="string">'shore'</span>,<span class="string">'water'</span>],</span><br><span class="line">        [<span class="string">'river'</span>,<span class="string">'water'</span>,<span class="string">'flow'</span>,<span class="string">'fast'</span>,<span class="string">'tree'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'water'</span>,<span class="string">'fall'</span>,<span class="string">'flow'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'bank'</span>,<span class="string">'water'</span>,<span class="string">'rain'</span>,<span class="string">'river'</span>],</span><br><span class="line">        [<span class="string">'river'</span>,<span class="string">'water'</span>,<span class="string">'mud'</span>,<span class="string">'tree'</span>],</span><br><span class="line">        [<span class="string">'money'</span>,<span class="string">'transaction'</span>,<span class="string">'bank'</span>,<span class="string">'finance'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'borrow'</span>,<span class="string">'money'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'finance'</span>],</span><br><span class="line">        [<span class="string">'finance'</span>,<span class="string">'money'</span>,<span class="string">'sell'</span>,<span class="string">'bank'</span>],</span><br><span class="line">        [<span class="string">'borrow'</span>,<span class="string">'sell'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'loan'</span>,<span class="string">'sell'</span>]]</span><br><span class="line"> </span><br><span class="line">model.get_term_topics(<span class="string">'water'</span>)</span><br><span class="line">model.get_term_topics(<span class="string">'finance'</span>)</span><br><span class="line"> </span><br><span class="line">bow_water = [<span class="string">'bank'</span>,<span class="string">'water'</span>,<span class="string">'bank'</span>]</span><br><span class="line">bow_finance = [<span class="string">'bank'</span>,<span class="string">'finance'</span>,<span class="string">'bank'</span>]</span><br><span class="line">bow = model.id2word.doc2bow(bow_water) <span class="comment"># convert to bag of words format first</span></span><br><span class="line">doc_topics, word_topics, phi_values = model.get_document_topics(bow, per_word_topics=<span class="literal">True</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># coherence models: 주제 일관성 </span></span><br><span class="line"> </span><br><span class="line">lsi_coherence = CoherenceModel(topics=lsitopics[:<span class="number">10</span>], texts=texts, dictionary=dictionary, window_size=<span class="number">10</span>)</span><br><span class="line">hdp_coherence = CoherenceModel(topics=hdptopics[:<span class="number">10</span>], texts=texts, dictionary=dictionary, window_size=<span class="number">10</span>)</span><br><span class="line">lda_coherence = CoherenceModel(topics=ldatopics, texts=texts, dictionary=dictionary, window_size=<span class="number">10</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># train two models, one poorly trained (1 pass), and one trained with more passes (50 passes)</span></span><br><span class="line"><span class="comment"># 토픽 모델 평가</span></span><br><span class="line"> </span><br><span class="line">print(goodcm.get_coherence())</span><br><span class="line">print(badcm.get_coherence())</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 말뭉치에 대한 최적의 주제 수를 예측하기 위해 일관성 측정 방법을 사용할 수도 있다.</span></span><br><span class="line">c_v = []</span><br><span class="line"><span class="keyword">for</span> num_topics <span class="keyword">in</span> range(<span class="number">1</span>, limit):</span><br><span class="line">        lm = LdaModel(corpus=corpus, num_topics=num_topics, id2word=dictionary)</span><br><span class="line">        cm = CoherenceModel(model=lm, texts=texts, dictionary=dictionary,          coherence=<span class="string">'c_v'</span>)</span><br><span class="line">        c_v.append(cm.get_coherence())</span><br><span class="line"> </span><br><span class="line"><span class="comment"># visualisation</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> pyLDAvis.gensim</span><br><span class="line">pyLDAvis.gensim.prepare(lda, corpus, dictionary)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p>논문과 소스코드: <a target="_blank" rel="noopener" href="https://paperswithcode.com/">https://paperswithcode.com/</a></p>
</li>
<li>
<p>대화체에 유연한 띄어쓰기 모델 만들기:  <a target="_blank" rel="noopener" href="https://blog.pingpong.us/spacing/?fbclid=IwAR2osQRhjNiSI4Ms5a-0mjXExW5_osqzvMx5iwF1r1tpkjn_s4_Dm0XsJYI">https://blog.pingpong.us/spacing/?fbclid=IwAR2osQRhjNiSI4Ms5a-0mjXExW5_osqzvMx5iwF1r1tpkjn_s4_Dm0XsJYI</a></p>
</li>
<li>
<p>pyLDAvis 튜토리얼</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bmabey/pyLDAvis/blob/master/notebooks/pyLDAvis_overview.ipynb">https://github.com/bmabey/pyLDAvis/blob/master/notebooks/pyLDAvis_overview.ipynb</a></li>
</ul>
</li>
<li>
<p>Visdom 서버: 테이터를 시작화하는데 도움이 되도록 특별히 제작된 파이썬 기반의 서버이다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/facebookresearch/visdom">https://github.com/facebookresearch/visdom</a></li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://nbviewer.jupyter.org/github/bmabey/pyLDAvis/blob/master/notebooks/pyLDAvis_overview.ipynb">https://nbviewer.jupyter.org/github/bmabey/pyLDAvis/blob/master/notebooks/pyLDAvis_overview.ipynb</a><br>
<a target="_blank" rel="noopener" href="https://nbviewer.jupyter.org/github/bmabey/pyLDAvis/blob/master/notebooks/Gensim%20Newsgroup.ipynb">https://nbviewer.jupyter.org/github/bmabey/pyLDAvis/blob/master/notebooks/Gensim Newsgroup.ipynb</a></p>
<ul>
<li>
<p>Word2Vec 군집화</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://nbviewer.jupyter.org/github/RaRe-Technologies/gensim/blob/da383bf4a4046b134d95d9085eedb163dd5e0c46/docs/notebooks/Tensorboard_visualizations.ipynb">https://nbviewer.jupyter.org/github/RaRe-Technologies/gensim/blob/da383bf4a4046b134d95d9085eedb163dd5e0c46/docs/notebooks/Tensorboard_visualizations.ipynb</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/Tensorboard_visualizations.ipynb">https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/Tensorboard_visualizations.ipynb</a></li>
<li><a target="_blank" rel="noopener" href="https://nbviewer.jupyter.org/github/RaRe-Technologies/gensim/tree/da383bf4a4046b134d95d9085eedb163dd5e0c46/docs/notebooks/">https://nbviewer.jupyter.org/github/RaRe-Technologies/gensim/tree/da383bf4a4046b134d95d9085eedb163dd5e0c46/docs/notebooks/</a></li>
</ul>
</li>
<li>
<p>10장 텍스트 군집화 및 분류</p>
</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> fetch_20newsgroups</span><br><span class="line"> </span><br><span class="line">categories = [</span><br><span class="line">    <span class="string">'alt.atheism'</span>,</span><br><span class="line">    <span class="string">'talk.religion.misc'</span>,</span><br><span class="line">    <span class="string">'comp.graphics'</span>,</span><br><span class="line">    <span class="string">'sci.space'</span>,</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line">dataset = fetch_20newsgroups(subset=<span class="string">'all'</span>, categories=categories, shuffle=<span class="literal">True</span>, random_state=<span class="number">42</span>)</span><br><span class="line"> </span><br><span class="line">labels = dataset.target</span><br><span class="line">true_k = np.unique(labels).shape[<span class="number">0</span>]</span><br><span class="line">data = dataset.data </span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer</span><br><span class="line"> </span><br><span class="line">vectorizer = TfidfVectorizer(max_df=<span class="number">0.5</span>, min_df=<span class="number">2</span>, stop_words=<span class="string">'english'</span>, use_idf=<span class="literal">True</span>)</span><br><span class="line"> </span><br><span class="line">X = vectorizer.fit_transform(data)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">newsgroups_train = fetch_20newsgroups(subset=<span class="string">'train'</span>,</span><br><span class="line">                                      categories=[<span class="string">'alt.atheism'</span>, <span class="string">'sci.space'</span>])</span><br><span class="line">pipeline = Pipeline([</span><br><span class="line">    (<span class="string">'vect'</span>, CountVectorizer()),</span><br><span class="line">    (<span class="string">'tfidf'</span>, TfidfTransformer()),</span><br><span class="line">])       </span><br><span class="line">X_visualise = pipeline.fit_transform(newsgroups_train.data).todense()</span><br><span class="line"> </span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>).fit(X_visualise)</span><br><span class="line">data2D = pca.transform(X_visualise)</span><br><span class="line">plt.scatter(data2D[:,<span class="number">0</span>], data2D[:,<span class="number">1</span>], c=newsgroups_train.target)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 특이값 분해로 차원 축소</span></span><br><span class="line"> </span><br><span class="line">n_components = <span class="number">5</span></span><br><span class="line">svd = TruncatedSVD(n_components)</span><br><span class="line">normalizer = Normalizer(copy=<span class="literal">False</span>)</span><br><span class="line">lsa = make_pipeline(svd, normalizer)</span><br><span class="line"> </span><br><span class="line">X = lsa.fit_transform(X)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">Minibatch = <span class="literal">True</span></span><br><span class="line"><span class="keyword">if</span> minibatch:</span><br><span class="line">    km = MiniBatchKMeans(n_clusters=true_k, init=<span class="string">'k-means++'</span>, n_init=<span class="number">1</span>, init_size=<span class="number">1000</span>, batch_size=<span class="number">1000</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    km = KMeans(n_clusters=true_k, init=<span class="string">'k-means++'</span>, max_iter=<span class="number">100</span>, n_init=<span class="number">1</span>)</span><br><span class="line">km.fit(X)</span><br><span class="line"> </span><br><span class="line">original_space_centroids = svd.inverse_transform(km.cluster_centers_)</span><br><span class="line"> </span><br><span class="line">order_centroids = original_space_centroids.argsort()[:, ::<span class="number">-1</span>]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># [The above bit of code is necessary because of our LSI transformation]</span></span><br><span class="line"> </span><br><span class="line">terms = vectorizer.get_feature_names()</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(true_k):</span><br><span class="line">    print(<span class="string">"Cluster %d:"</span> % i)</span><br><span class="line">    <span class="keyword">for</span> ind <span class="keyword">in</span> order_centroids[i, :<span class="number">10</span>]:</span><br><span class="line">        print(<span class="string">' %s'</span> % terms[ind])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> sklearn.metrics.pairwise <span class="keyword">import</span> cosine_similarity</span><br><span class="line">dist = <span class="number">1</span> - cosine_similarity(X)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> scipy.cluster.hierarchy <span class="keyword">import</span> ward, dendrogram</span><br><span class="line"> </span><br><span class="line">linkage_matrix = ward(dist)</span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">15</span>)) <span class="comment"># set size</span></span><br><span class="line">ax = dendrogram(linkage_matrix, orientation=<span class="string">"right"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># classification</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line">gnb = GaussianNB()</span><br><span class="line">gnb.fit(X, labels)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line">svm = SVC()</span><br><span class="line">svm.fit(X, labels)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p>Automatic Topic Clustering Using Doc2Vec</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://towardsdatascience.com/automatic-topic-clustering-using-doc2vec-e1cea88449c">https://towardsdatascience.com/automatic-topic-clustering-using-doc2vec-e1cea88449c</a></li>
</ul>
</li>
<li>
<p>GridSearchCV</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://scikit-learn.org/stable/auto_examples/model_selection/plot_grid_search_digits.html">https://scikit-learn.org/stable/auto_examples/model_selection/plot_grid_search_digits.html</a></li>
</ul>
</li>
<li>
<p>Text Classification with Word2Vec:</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://nadbordrozd.github.io/blog/2016/05/20/text-classification-with-word2vec/">http://nadbordrozd.github.io/blog/2016/05/20/text-classification-with-word2vec/</a></li>
</ul>
</li>
<li>
<p>11장 유사 질의 및 요약</p>
</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">texts = [[<span class="string">'bank'</span>,<span class="string">'river'</span>,<span class="string">'shore'</span>,<span class="string">'water'</span>],</span><br><span class="line">        [<span class="string">'river'</span>,<span class="string">'water'</span>,<span class="string">'flow'</span>,<span class="string">'fast'</span>,<span class="string">'tree'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'water'</span>,<span class="string">'fall'</span>,<span class="string">'flow'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'bank'</span>,<span class="string">'water'</span>,<span class="string">'rain'</span>,<span class="string">'river'</span>],</span><br><span class="line">        [<span class="string">'river'</span>,<span class="string">'water'</span>,<span class="string">'mud'</span>,<span class="string">'tree'</span>],</span><br><span class="line">        [<span class="string">'money'</span>,<span class="string">'transaction'</span>,<span class="string">'bank'</span>,<span class="string">'finance'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'borrow'</span>,<span class="string">'money'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>,<span class="string">'finance'</span>],</span><br><span class="line">        [<span class="string">'finance'</span>,<span class="string">'money'</span>,<span class="string">'sell'</span>,<span class="string">'bank'</span>],</span><br><span class="line">        [<span class="string">'borrow'</span>,<span class="string">'sell'</span>],</span><br><span class="line">        [<span class="string">'bank'</span>, <span class="string">'loan'</span>, <span class="string">'sell'</span>]</span><br><span class="line"> </span><br><span class="line">dictionary = Dictionary(texts)</span><br><span class="line">corpus = [dictionary.doc2bow(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]</span><br><span class="line"> </span><br><span class="line">tfidf = TfidfModel(corpus)</span><br><span class="line">model = ldamodel.LdaModel(corpus, id2word=dictionary, num_topics=<span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line">model.show_topics()</span><br><span class="line"> </span><br><span class="line">doc_water = [<span class="string">'river'</span>, <span class="string">'water'</span>, <span class="string">'shore'</span>]</span><br><span class="line">doc_finance = [<span class="string">'finance'</span>, <span class="string">'money'</span>, <span class="string">'sell'</span>]</span><br><span class="line">doc_bank = [<span class="string">'finance'</span>, <span class="string">'bank'</span>, <span class="string">'tree'</span>, <span class="string">'water'</span>]</span><br><span class="line"> </span><br><span class="line">bow_water = model.id2word.doc2bow(doc_water)  </span><br><span class="line">bow_finance = model.id2word.doc2bow(doc_finance)  </span><br><span class="line">bow_bank = model.id2word.doc2bow(doc_bank)  </span><br><span class="line"> </span><br><span class="line">lda_bow_water = model[bow_water]</span><br><span class="line">lda_bow_finance = model[bow_finance]</span><br><span class="line">lda_bow_bank = model[bow_bank]</span><br><span class="line"> </span><br><span class="line">tfidf_bow_water = tfidf[bow_water]</span><br><span class="line">tfidf_bow_finance = tfidf[bow_finance]</span><br><span class="line">tfidf_bow_bank = tfidf[bow_bank]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> gensim.matutils <span class="keyword">import</span> kullback_leibler, jaccard, hellinger</span><br><span class="line"> </span><br><span class="line">hellinger(lda_bow_water, lda_bow_finance)</span><br><span class="line">hellinger(lda_bow_finance, lda_bow_bank)</span><br><span class="line">hellinger(lda_bow_bank, lda_bow_water)</span><br><span class="line"> </span><br><span class="line">hellinger(lda_bow_finance, lda_bow_water)</span><br><span class="line">kullback_leibler(lda_bow_water, lda_bow_bank)</span><br><span class="line">kullback_leibler(lda_bow_bank, lda_bow_water)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">jaccard(bow_water, bow_bank)</span><br><span class="line">jaccard(doc_water, doc_bank)</span><br><span class="line">jaccard([<span class="string">'word'</span>], [<span class="string">'word'</span>])</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_topics_bow</span>(<span class="params">topic</span>):</span></span><br><span class="line">    <span class="comment"># takes the string returned by model.show_topics()</span></span><br><span class="line">    <span class="comment"># split on strings to get topics and the probabilities</span></span><br><span class="line">    topic = topic.split(<span class="string">'+'</span>)</span><br><span class="line">    <span class="comment"># list to store topic bows</span></span><br><span class="line">    topic_bow = []</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> topic:</span><br><span class="line">        <span class="comment"># split probability and word</span></span><br><span class="line">        prob, word = word.split(<span class="string">'*'</span>)</span><br><span class="line">        <span class="comment"># get rid of spaces</span></span><br><span class="line">        word = word.replace(<span class="string">" "</span>,<span class="string">""</span>)</span><br><span class="line">        <span class="comment"># convert to word_type</span></span><br><span class="line">        word = model.id2word.doc2bow([word])[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">        topic_bow.append((word, float(prob)))</span><br><span class="line">    <span class="keyword">return</span> topic_bow</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">topic_water, topic_finance = model.show_topics()</span><br><span class="line">finance_distribution = make_topics_bow(topic_finance[<span class="number">1</span>])</span><br><span class="line">water_distribution = make_topics_bow(topic_water[<span class="number">1</span>])</span><br><span class="line"> </span><br><span class="line">hellinger(water_distribution, finance_distribution)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> gensim <span class="keyword">import</span> similarities</span><br><span class="line"> </span><br><span class="line">index = similarities.MatrixSimilarity(model[corpus])</span><br><span class="line">sims = index[lda_bow_finance]</span><br><span class="line">print(list(enumerate(sims)))</span><br><span class="line"> </span><br><span class="line">sims = sorted(enumerate(sims), key=<span class="keyword">lambda</span> item: -item[<span class="number">1</span>])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> doc_id, similarity <span class="keyword">in</span> sims:</span><br><span class="line">    <span class="keyword">print</span> texts[doc_id], similarity</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> gensim.summarization <span class="keyword">import</span> summarize</span><br><span class="line"><span class="keyword">print</span> (summarize(text))</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (summarize(text, word_count=<span class="number">50</span>))</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> gensim.summarization <span class="keyword">import</span> keywords</span><br><span class="line"> </span><br><span class="line"><span class="keyword">print</span> (keywords(text))</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> gensim.summarization <span class="keyword">import</span> mz_keywords</span><br><span class="line">mz_keywords(text,scores=<span class="literal">True</span>,weighted=<span class="literal">False</span>,threshold=<span class="number">1.0</span>)</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlf7002jk78oa2th4h5y.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlf7002jk78oa2th4h5y.html" class="post-title-link" itemprop="url">.netrc를 이용한 curl 인증 정보 저장</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-18 10:25:10 / Updated at: 10:34:16" itemprop="dateCreated datePublished" datetime="2020-08-18T10:25:10+09:00">2020-08-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%8C%81/" itemprop="url" rel="index"><span itemprop="name">리눅스 팁</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="netrc-파일을-home-폴더에-생성"><a class="markdownIt-Anchor" href="#netrc-파일을-home-폴더에-생성"></a> .netrc 파일을 $HOME 폴더에 생성</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SITE=my-es.com</span><br><span class="line">USER_ID=elastic</span><br><span class="line">USER_PW=****</span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF | tee -a ~/.netrc</span><br><span class="line">machine <span class="variable">${SITE}</span></span><br><span class="line">protocol https</span><br><span class="line">login <span class="variable">${USER_ID}</span></span><br><span class="line">password <span class="variable">${USER_PW}</span></span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure>
<h2 id="사용방법"><a class="markdownIt-Anchor" href="#사용방법"></a> 사용방법</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">❯ curl --<span class="built_in">help</span>                            </span><br><span class="line">Usage: curl [options...] &lt;url&gt;</span><br><span class="line">(...)</span><br><span class="line"> -n, --netrc         Must <span class="built_in">read</span> .netrc <span class="keyword">for</span> user name and password</span><br><span class="line">     --netrc-file &lt;filename&gt; Specify FILE <span class="keyword">for</span> netrc</span><br><span class="line">     --netrc-optional Use either .netrc or URL</span><br><span class="line">(...)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="테스트"><a class="markdownIt-Anchor" href="#테스트"></a> 테스트</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">❯ curl -n https://<span class="variable">${SITE}</span>:9200/</span><br><span class="line">{</span><br><span class="line">  <span class="string">"name"</span> : <span class="string">"SERVER_NAME"</span>,</span><br><span class="line">  <span class="string">"cluster_name"</span> : <span class="string">"CLUSTER_NAME"</span>,</span><br><span class="line">  <span class="string">"cluster_uuid"</span> : <span class="string">"****"</span>,</span><br><span class="line">  <span class="string">"version"</span> : {</span><br><span class="line">    <span class="string">"number"</span> : <span class="string">""</span>****<span class="string">",</span></span><br><span class="line"><span class="string">    "</span>build_flavor<span class="string">" : "</span>default<span class="string">",</span></span><br><span class="line"><span class="string">    "</span>build_type<span class="string">" : "</span>tar<span class="string">",</span></span><br><span class="line"><span class="string">    "</span>build_hash<span class="string">" : "</span>****<span class="string">",</span></span><br><span class="line"><span class="string">    "</span>build_date<span class="string">" : "</span><span class="string">"****"</span>,</span><br><span class="line">    <span class="string">"build_snapshot"</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="string">"lucene_version"</span> : <span class="string">""</span>****<span class="string">",</span></span><br><span class="line"><span class="string">    "</span>minimum_wire_compatibility_version<span class="string">" : "</span><span class="string">"****"</span>,</span><br><span class="line">    <span class="string">"minimum_index_compatibility_version"</span> : <span class="string">""</span>****<span class="string">"</span></span><br><span class="line"><span class="string">  },</span></span><br><span class="line"><span class="string">  "</span>tagline<span class="string">" : "</span>You Know, <span class="keyword">for</span> Search<span class="string">"</span></span><br><span class="line"><span class="string">}</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="http://bahndal.egloos.com/614808">리눅스에서 .netrc 파일을 이용한 ftp 자동 로그인</a></li>
<li><a target="_blank" rel="noopener" href="https://ec.haxx.se/usingcurl/usingcurl-netrc">usingcurl netrc</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="infra">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmle3000qk78o5h0a92b4.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmle3000qk78o5h0a92b4.html" class="post-title-link" itemprop="url">nexus3 설정</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-14 19:06:18 / Updated at: 19:38:40" itemprop="dateCreated datePublished" datetime="2020-08-14T19:06:18+09:00">2020-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/nexus3/" itemprop="url" rel="index"><span itemprop="name">nexus3</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="repositories"><a class="markdownIt-Anchor" href="#repositories"></a> Repositories</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Format</th>
<th>Blob</th>
</tr>
</thead>
<tbody>
<tr>
<td>bionic</td>
<td>apt</td>
<td>proxy</td>
<td>bionic</td>
</tr>
<tr>
<td>stretch</td>
<td>apt</td>
<td>proxy</td>
<td>stretch</td>
</tr>
<tr>
<td>focal</td>
<td>apt</td>
<td>proxy</td>
<td>focal</td>
</tr>
<tr>
<td>cache</td>
<td>raw</td>
<td>hosted</td>
<td>cache</td>
</tr>
<tr>
<td>datasets</td>
<td>raw</td>
<td>hosted</td>
<td>datasets</td>
</tr>
<tr>
<td>conda</td>
<td>conda</td>
<td>proxy</td>
<td>conda</td>
</tr>
<tr>
<td>registry</td>
<td>docker</td>
<td>hosted</td>
<td>registry</td>
</tr>
<tr>
<td>git-lfs</td>
<td>gitlfs</td>
<td>hosted</td>
<td>git-lfs</td>
</tr>
<tr>
<td>helm</td>
<td>helm</td>
<td>hosted</td>
<td>helm</td>
</tr>
<tr>
<td>npm</td>
<td>npm</td>
<td>proxy</td>
<td>npm</td>
</tr>
<tr>
<td>pypi</td>
<td>pypi</td>
<td>proxy</td>
<td>pypi</td>
</tr>
<tr>
<td>pypi-nlp</td>
<td>pypi</td>
<td>hosted</td>
<td>pypi-nlp</td>
</tr>
</tbody>
</table>
<h2 id="apt-proxy-type"><a class="markdownIt-Anchor" href="#apt-proxy-type"></a> apt proxy type</h2>
<ul>
<li>
<p>Repository/Repositories</p>
<ul>
<li>Name: <strong>bionic</strong></li>
<li>Distribution: <strong>bionic</strong></li>
<li>Remote storage: <strong><a target="_blank" rel="noopener" href="http://mirror.kakao.com/ubuntu/">http://mirror.kakao.com/ubuntu/</a></strong></li>
<li>Blob store: <strong>bionic</strong></li>
</ul>
</li>
<li>
<p>Security/Anonymous Access</p>
<ul>
<li>Allow anonymous suers to access the server: <strong>check</strong></li>
</ul>
</li>
</ul>
<h2 id="docker-hosted-type"><a class="markdownIt-Anchor" href="#docker-hosted-type"></a> docker hosted type</h2>
<ul>
<li>
<p>Repository/Repositories</p>
<ul>
<li>HTTP: <strong>5000</strong></li>
<li>Enable Docker V1 API: <strong>check</strong></li>
<li>Blob store: <strong>registry</strong></li>
</ul>
</li>
<li>
<p>Security/Realms</p>
<ul>
<li>Active realms: <strong>Docker Bearer Token Realm</strong></li>
</ul>
</li>
</ul>
<h2 id="conda-proxy-type"><a class="markdownIt-Anchor" href="#conda-proxy-type"></a> conda proxy type</h2>
<ul>
<li>Repository/Repositories
<ul>
<li>Remote storage: <strong><a target="_blank" rel="noopener" href="https://repo.anaconda.com/pkgs/">https://repo.anaconda.com/pkgs/</a></strong></li>
<li>Blob store: <strong>conda</strong></li>
</ul>
</li>
</ul>
<h2 id="npm-proxy-type"><a class="markdownIt-Anchor" href="#npm-proxy-type"></a> npm proxy type</h2>
<ul>
<li>Repository/Repositories
<ul>
<li>Remote storage: <strong><a target="_blank" rel="noopener" href="http://registry.npmjs.org">http://registry.npmjs.org</a></strong></li>
<li>Blob store: <strong>npm</strong></li>
</ul>
</li>
</ul>
<h2 id="pypi-proxy-type"><a class="markdownIt-Anchor" href="#pypi-proxy-type"></a> pypi proxy type</h2>
<ul>
<li>Repository/Repositories
<ul>
<li>Remote storage: <strong><a target="_blank" rel="noopener" href="http://mirror.kakao.com/pypi/">http://mirror.kakao.com/pypi/</a></strong></li>
<li>Blob store: <strong>pypi</strong></li>
</ul>
</li>
</ul>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://velog.io/@king/private-docker-registry">사내 Docker Registry 만들기 (Nexus3 기반)</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlf4002ck78o78x7d0ny.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlf4002ck78o78x7d0ny.html" class="post-title-link" itemprop="url">OpenNMT Server API Sample</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-14 18:59:19 / Updated at: 19:04:58" itemprop="dateCreated datePublished" datetime="2020-08-14T18:59:19+09:00">2020-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/sample/" itemprop="url" rel="index"><span itemprop="name">sample</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/sample/OpenNMT-API/" itemprop="url" rel="index"><span itemprop="name">OpenNMT API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="서버-설정-파일-생성"><a class="markdownIt-Anchor" href="#서버-설정-파일-생성"></a> 서버 설정 파일 생성</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MODEL_NAME=model_step_100000.pt</span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOS | tee server.json</span><br><span class="line">{</span><br><span class="line">    <span class="string">"models_root"</span>: <span class="string">"./model"</span>,</span><br><span class="line">    <span class="string">"models"</span>: [</span><br><span class="line">        {  </span><br><span class="line">            <span class="string">"id"</span>: 100,</span><br><span class="line">            <span class="string">"model"</span>: <span class="string">"<span class="variable">${MODEL_NAME}</span>"</span>,</span><br><span class="line">            <span class="string">"timeout"</span>: 600,</span><br><span class="line">            <span class="string">"on_timeout"</span>: <span class="string">"to_cpu"</span>,</span><br><span class="line">            <span class="string">"load"</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">"opt"</span>: {</span><br><span class="line">                <span class="string">"gpu"</span>: 0,</span><br><span class="line">                <span class="string">"beam_size"</span>: 5</span><br><span class="line">            }  </span><br><span class="line">        }  </span><br><span class="line">    ]  </span><br><span class="line">}</span><br><span class="line">EOS</span><br></pre></td></tr></tbody></table></figure>
<h2 id="서버-실행"><a class="markdownIt-Anchor" href="#서버-실행"></a> 서버 실행</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onmt_server --ip 0.0.0.0 --port 32000 --debug --url_root /nmt --config server.json</span><br></pre></td></tr></tbody></table></figure>
<h2 id="서버-호출-테스트"><a class="markdownIt-Anchor" href="#서버-호출-테스트"></a> 서버 호출 테스트</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SERVER_URL=http://localhost:32000/nmt/translate</span><br><span class="line"></span><br><span class="line">curl -i \</span><br><span class="line">    -X POST \</span><br><span class="line">    -H <span class="string">"Content-Type: application/json"</span> \</span><br><span class="line">    -d <span class="string">'[{</span></span><br><span class="line"><span class="string">        "id": 100,</span></span><br><span class="line"><span class="string">        "src": "여러분 은 걷 을 때 어느 쪽 으로 걷 으시 어요 ?" </span></span><br><span class="line"><span class="string">    }]'</span> \</span><br><span class="line">    <span class="variable">${SERVER_URL}</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://forum.opennmt.net/t/simple-opennmt-py-rest-server/1392">Simple OpenNMT-py REST server</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlf3002bk78ohtj73vm0.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlf3002bk78ohtj73vm0.html" class="post-title-link" itemprop="url">git commit 기반 docker image 버전 관리</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-14 18:53:56 / Updated at: 18:57:46" itemprop="dateCreated datePublished" datetime="2020-08-14T18:53:56+09:00">2020-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="docker-build"><a class="markdownIt-Anchor" href="#docker-build"></a> docker build</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">IMAGE = registry/image-name</span><br><span class="line">IMAGE_TAG = $(git describe --tags --long | cut -f1,2 -d<span class="string">'-'</span> | tr <span class="string">'-'</span> <span class="string">'.'</span>).$(git rev-list --count HEAD)</span><br><span class="line"> </span><br><span class="line">docker build \</span><br><span class="line">    -t $(IMAGE):$(IMAGE_TAG) \</span><br><span class="line">    --build-arg <span class="string">"docker_image=<span class="subst">$(IMAGE)</span>:<span class="subst">$(IMAGE_TAG)</span>"</span> \</span><br><span class="line">    --build-arg <span class="string">"docker_tag=<span class="subst">$(IMAGE_TAG)</span>"</span> \</span><br><span class="line">    --build-arg <span class="string">"build_date='<span class="subst">$(date +'%Y-%m-%d %H:%M:%S')</span>'"</span> \</span><br><span class="line">    --build-arg <span class="string">"git_url=<span class="subst">$(git config --get remote.origin.url)</span>"</span> \</span><br><span class="line">    --build-arg <span class="string">"git_branch=<span class="subst">$(git rev-parse --abbrev-ref HEAD)</span>"</span> \</span><br><span class="line">    --build-arg <span class="string">"git_tag=<span class="subst">$(git describe --tags --long)</span>"</span> \</span><br><span class="line">    --build-arg <span class="string">"git_commit_id=<span class="subst">$(git rev-parse --short HEAD)</span>"</span> \</span><br><span class="line">    --build-arg <span class="string">"git_commit_count=<span class="subst">$(git rev-list --count HEAD)</span>"</span> \</span><br><span class="line">    --label <span class="string">"app=api"</span> \</span><br><span class="line">    --label <span class="string">"version=<span class="subst">$(IMAGE_TAG)</span>"</span> \</span><br><span class="line">    --label <span class="string">"image_name=<span class="subst">$(IMAGE)</span>"</span> \</span><br><span class="line">    --label <span class="string">"build-date=<span class="subst">$(date +'%Y-%m-%d %H:%M:%S')</span>"</span> \</span><br><span class="line">    --label <span class="string">"git.url=<span class="subst">$(git config --get remote.origin.url)</span>"</span> \</span><br><span class="line">    --label <span class="string">"git.branch=<span class="subst">$(git rev-parse --abbrev-ref HEAD)</span>"</span> \</span><br><span class="line">    --label <span class="string">"git.tag=<span class="subst">$(git describe --tags --long)</span>"</span> \</span><br><span class="line">    --label <span class="string">"git.commit.id=<span class="subst">$(git rev-parse --short HEAD)</span>"</span> \</span><br><span class="line">    --label <span class="string">"git.commit.count=<span class="subst">$(git rev-list --count HEAD)</span>"</span> \</span><br><span class="line">    -f Dockerfile \</span><br><span class="line">    .</span><br></pre></td></tr></tbody></table></figure>
<h2 id="dockerfile"><a class="markdownIt-Anchor" href="#dockerfile"></a> Dockerfile</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FROM ubuntu:20.04</span><br><span class="line"> </span><br><span class="line">ARG docker_image</span><br><span class="line">ARG docker_tag</span><br><span class="line">ARG build_date</span><br><span class="line">ARG git_url</span><br><span class="line">ARG git_branch</span><br><span class="line">ARG git_tag</span><br><span class="line">ARG git_commit_id</span><br><span class="line">ARG git_commit_count</span><br><span class="line"> </span><br><span class="line">ENV docker_image=<span class="variable">${docker_image}</span></span><br><span class="line">ENV docker_tag=<span class="variable">${docker_tag}</span></span><br><span class="line">ENV build_date=<span class="variable">${build_date}</span></span><br><span class="line">ENV git_url=<span class="variable">${git_url}</span></span><br><span class="line">ENV git_branch=<span class="variable">${git_branch}</span></span><br><span class="line">ENV git_tag=<span class="variable">${git_tag}</span></span><br><span class="line">ENV git_commit_id=<span class="variable">${git_commit_id}</span></span><br><span class="line">ENV git_commit_count=<span class="variable">${git_commit_count}</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="flask-get-state"><a class="markdownIt-Anchor" href="#flask-get-state"></a> Flask GET /state/*</h2>
<ul>
<li>state_ns.py</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> http <span class="keyword">import</span> HTTPStatus</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> flask_restplus <span class="keyword">import</span> Resource</span><br><span class="line"><span class="keyword">from</span> flask_restplus.namespace <span class="keyword">import</span> Namespace</span><br><span class="line"> </span><br><span class="line">title = <span class="string">'State APIs'</span></span><br><span class="line">ns = Namespace(title, description=title)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@ns.route('/health')</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Health</span>(<span class="params">Resource</span>):</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">""" """</span></span><br><span class="line">        <span class="keyword">return</span> {<span class="string">'msg'</span>: <span class="string">'Service ready.'</span>}, HTTPStatus.OK</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@ns.route('/version')</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Version</span>(<span class="params">Resource</span>):</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">""" """</span></span><br><span class="line">        <span class="keyword">return</span> {<span class="string">'version'</span>: os.getenv(<span class="string">'docker_tag'</span>, <span class="string">'1.0.0'</span>)}, HTTPStatus.OK</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@ns.route('/image')</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DockerImage</span>(<span class="params">Resource</span>):</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">""" """</span></span><br><span class="line">        <span class="keyword">return</span> {<span class="string">'image'</span>: os.getenv(<span class="string">'docker_image'</span>, <span class="string">'1.0.0'</span>)}, HTTPStatus.OK</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@ns.route('/buildDate')</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BuildDate</span>(<span class="params">Resource</span>):</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">""" """</span></span><br><span class="line">        <span class="keyword">return</span> {<span class="string">'build_date'</span>: os.getenv(<span class="string">'build_date'</span>, <span class="string">'2020-01-01'</span>)}, HTTPStatus.OK</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="http://app.py">app.py</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask_cors <span class="keyword">import</span> CORS</span><br><span class="line"><span class="keyword">from</span> flask_restplus <span class="keyword">import</span> Api</span><br><span class="line"> </span><br><span class="line"><span class="keyword">from</span> config <span class="keyword">import</span> get_environment</span><br><span class="line"><span class="keyword">from</span> state_ns <span class="keyword">import</span> ns <span class="keyword">as</span> state_ns</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_app</span>():</span></span><br><span class="line">    <span class="string">"""어플리케이션을 생성한다."""</span></span><br><span class="line">    app = Flask(__name__)</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># cross domain 접근 설정</span></span><br><span class="line">    CORS(app, supports_credentials=<span class="literal">True</span>, methods=[<span class="string">'GET'</span>, <span class="string">'POST'</span>, <span class="string">'PUT'</span>, <span class="string">'DELETE'</span>], max_age=<span class="number">1000</span>)</span><br><span class="line"> </span><br><span class="line">    title = <span class="string">'APIs'</span></span><br><span class="line">    api = Api(app=app, version=<span class="string">'1.0'</span>, title=title, description=title)</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># 네임스페이스 등록</span></span><br><span class="line">    api.add_namespace(state_ns, path=<span class="string">'/state'</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> app</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="string">""" """</span></span><br><span class="line">    env = get_environment()</span><br><span class="line">    app = create_app()</span><br><span class="line"> </span><br><span class="line">    app.run(host=<span class="string">'0.0.0.0'</span>, port=env[<span class="string">'port'</span>], debug=env[<span class="string">'debug'</span>])</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="linux">
    <link itemprop="mainEntityOfPage" href="https://ejpark78.github.io/ckf3rmlf10026k78o2n9j9213.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Park Eunjin">
      <meta itemprop="description" content="적자생존!">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘은 뭘 배우셨나요?">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ckf3rmlf10026k78o2n9j9213.html" class="post-title-link" itemprop="url">Elasticsearch 초기 암호 설정 방법</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>
              

              <time title="Post created: 2020-08-14 18:47:58 / Updated at: 18:52:48" itemprop="dateCreated datePublished" datetime="2020-08-14T18:47:58+09:00">2020-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Elasticsearch/" itemprop="url" rel="index"><span itemprop="name">Elasticsearch</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Elasticsearch/%EC%B4%88%EA%B8%B0-%EC%95%94%ED%98%B8-%EC%84%A4%EC%A0%95/" itemprop="url" rel="index"><span itemprop="name">초기 암호 설정</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="elasticsearch-container-에-접속"><a class="markdownIt-Anchor" href="#elasticsearch-container-에-접속"></a> Elasticsearch Container 에 접속</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it elasticsearch /bin/bash</span><br><span class="line"></span><br><span class="line">POD_NAME=pod/elasticsearch</span><br><span class="line">kubectl <span class="built_in">exec</span> -it <span class="variable">${POD_NAME}</span> -- /bin/bash </span><br></pre></td></tr></tbody></table></figure>
<h2 id="elasticsearch-setup-passwords-실행"><a class="markdownIt-Anchor" href="#elasticsearch-setup-passwords-실행"></a> elasticsearch-setup-passwords 실행</h2>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">❯ bin/elasticsearch-setup-passwords interactive --url http://0.0.0.0:9200</span><br><span class="line">Initiating the setup of passwords <span class="keyword">for</span> reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.</span><br><span class="line">You will be prompted to enter passwords as the process progresses.</span><br><span class="line">Please confirm that you would like to <span class="built_in">continue</span> [y/N]y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Enter password <span class="keyword">for</span> [elastic]:</span><br><span class="line">Reenter password <span class="keyword">for</span> [elastic]:</span><br><span class="line">Enter password <span class="keyword">for</span> [apm_system]:</span><br><span class="line">Reenter password <span class="keyword">for</span> [apm_system]:</span><br><span class="line">Enter password <span class="keyword">for</span> [kibana]:</span><br><span class="line">Reenter password <span class="keyword">for</span> [kibana]:</span><br><span class="line">Enter password <span class="keyword">for</span> [logstash_system]:</span><br><span class="line">Reenter password <span class="keyword">for</span> [logstash_system]:</span><br><span class="line">Enter password <span class="keyword">for</span> [beats_system]:</span><br><span class="line">Reenter password <span class="keyword">for</span> [beats_system]:</span><br><span class="line">Enter password <span class="keyword">for</span> [remote_monitoring_user]:</span><br><span class="line">Reenter password <span class="keyword">for</span> [remote_monitoring_user]:</span><br><span class="line">Changed password <span class="keyword">for</span> user [apm_system]</span><br><span class="line">Changed password <span class="keyword">for</span> user [kibana]</span><br><span class="line">Changed password <span class="keyword">for</span> user [logstash_system]</span><br><span class="line">Changed password <span class="keyword">for</span> user [beats_system]</span><br><span class="line">Changed password <span class="keyword">for</span> user [remote_monitoring_user]</span><br><span class="line">Changed password <span class="keyword">for</span> user [elastic]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 컨테이너 접속 종료</span></span><br><span class="line">❯ <span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="참고"><a class="markdownIt-Anchor" href="#참고"></a> 참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-passwords.html">elasticsearch setup passwords</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="이전 페이지"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">…</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="다음 페이지"></i></a>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  © 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Park Eunjin</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> &amp; <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

      








    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>

  


  















    <div class="pjax">
  

  

  

    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->


<script src="/bundle.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script></body></html>